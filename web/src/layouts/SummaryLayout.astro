---
import "../styles/global.css";

type Props = {
    title: string;
};

const { title } = Astro.props;
---

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{title}</title>
    </head>
    <body>
        <header class="bg-gray-800 text-white p-4 shadow-md">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold">
                    <a href="/" class="hover:underline">PersonalLM Summaries</a>
                </h1>
                <nav>
                    <a href="/archive" class="hover:underline">Archive</a>
                </nav>
            </div>
        </header>

        <main class="container mx-auto py-8 px-4">
            <slot />
        </main>

        <footer class="bg-gray-100 p-4 text-center text-gray-600 text-sm">
            <div class="container mx-auto">
                <p>Â© {new Date().getFullYear()} PersonalLM Summaries</p>
            </div>
        </footer>

        <!-- Context Modal -->
        <div
            id="context-modal"
            class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center hidden z-50"
        >
            <div
                class="bg-white p-6 max-w-4xl max-h-[90vh] w-full overflow-auto rounded-lg shadow-xl"
            >
                <h2 class="text-xl font-bold mb-4">Raw Context</h2>
                <pre
                    id="context-pre"
                    class="text-sm bg-gray-100 p-4 rounded overflow-auto max-h-[70vh]">Loading...</pre>
                <button
                    id="close-modal"
                    class="mt-4 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"
                    >Close</button
                >
            </div>
        </div>
    </body>
</html>
